<!DOCTYPE html>
<html lang="en">
<head>
    <title>Newsify</title>
    <link rel="stylesheet" href="/static/styles/index.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
</head>
<body>
    <script>
        $.ajax({
            url: '/get_news',
            type: 'GET',
            data: "preferences=science,technology,business,sports",
            success: function(response) {
                console.log(response)
                load_news(response)
            }   
        });
        function load_news(news){
            for(let i=0; i<news.length; i++) {
                const news_item = news[i];
                const html = `
                <div class="box">
                    <img src=${news_item.image} alt="Image">
                    <div class="heading">${news_item.title}</div>
                    <div class="content">${news_item.content}</div>
                    <div class="footer">
                        <div>${news_item.author}</div>
                        <div>${news_item.date}</div>
                    </div>
                </div>
                `;
                $('.boxes').append(html);
                console.log(html);
            }
            console.log($('#boxes').children().length);
        }
    </script>
    <div class="title">Newsify</div>
    <div class="boxes">
    </div>
</body>
</html>